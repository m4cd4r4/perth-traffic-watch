<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SwanFlow - Citizen-Augmented Traffic Monitoring for Perth</title>
  <meta name="description" content="Open-source traffic monitoring using Edge AI and ESP32-CAM. Complementing official infrastructure with citizen-led data for Perth's arterial roads.">

  <!-- Open Graph -->
  <meta property="og:title" content="SwanFlow - Citizen-Augmented Traffic Monitoring">
  <meta property="og:description" content="Open-source Edge AI traffic monitoring. Complementing official infrastructure with citizen-led data.">
  <meta property="og:image" content="/dashboard/screenshot-cottesloe-dark.png">
  <meta property="og:url" content="/dashboard">
  <meta property="og:type" content="website">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SwanFlow - Citizen-Augmented Traffic Monitoring">
  <meta name="twitter:description" content="Open-source Edge AI traffic monitoring for Perth commuters">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Space+Grotesk:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <link rel="stylesheet" href="/dashboard/styles.css">
  <link rel="stylesheet" href="/dashboard/knowledge.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header (matching dashboard) -->
  <header class="knowledge-header">
    <div class="header-content">
      <div class="brand-wrapper">
        <div class="brand">
          <img src="/dashboard/swan-logo-light.png" alt="SwanFlow" class="brand-logo light-logo">
          <img src="/dashboard/swan-logo-dark.png" alt="SwanFlow" class="brand-logo dark-logo">
          <h1>SwanFlow</h1>
        </div>
        <p class="subtitle">Real-time vehicle detection using Edge AI</p>
      </div>
      <div class="header-actions">
        <a href="/dashboard" class="header-nav-btn">
          <i data-lucide="layout-dashboard" class="nav-icon"></i>
          <span class="nav-text">Dashboard</span>
        </a>
        <a href="/dashboard/knowledge.html" class="header-nav-btn">
          <i data-lucide="book-open" class="nav-icon"></i>
          <span class="nav-text">Knowledge Base</span>
        </a>
        <div class="theme-toggle">
          <button type="button" id="theme-toggle-btn" class="theme-btn" aria-label="Toggle dark mode" title="Toggle dark mode">
            <i data-lucide="sun" class="icon-sun"></i>
            <i data-lucide="moon" class="icon-moon"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="lp-hero">
    <div class="hero-bg"></div>
    <div class="lp-container">
      <div class="lp-hero-badge">
        <span class="badge-text">Citizen-Augmented Monitoring</span>
      </div>
      <h1 class="lp-hero-title">Real-time Traffic Intelligence for Perth</h1>
      <p class="lp-hero-subtitle">Open-source traffic monitoring for Perth's arterial roads. Edge AI on affordable hardware, complementing official infrastructure with citizen-led data.</p>
      <div class="lp-hero-cta">
        <a href="/dashboard" class="lp-btn lp-btn-primary">
          <span>View Live Dashboard</span>
          <span class="arrow">‚Üí</span>
        </a>
        <a href="/dashboard/knowledge.html" class="lp-btn lp-btn-secondary">
          <span>Knowledge Base</span>
          <span class="arrow">‚Üí</span>
        </a>
      </div>
      <div class="lp-hero-stats">
        <div class="stat">
          <span class="stat-value">18</span>
          <span class="stat-label">Monitoring Sites</span>
        </div>
        <div class="stat">
          <span class="stat-value">6 km</span>
          <span class="stat-label">Arterial Corridor</span>
        </div>
        <div class="stat">
          <span class="stat-value">24/7</span>
          <span class="stat-label">Solar-Powered</span>
        </div>
        <div class="stat">
          <span class="stat-value">MIT</span>
          <span class="stat-label">Open Source</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Hardware Assembly Section (Spline Placeholder) -->
  <section class="lp-hardware" id="hardware">
    <div class="lp-container">
      <div class="lp-section-header">
        <h2>Inside the Sensor</h2>
        <p>A complete off-grid monitoring station in your hands</p>
      </div>

      <div class="lp-hardware-showcase">
        <!-- Spline 3D Animation Container -->
        <div class="lp-spline-container">
          <div class="spline-placeholder">
            <!-- Replace this div with Spline embed when ready -->
            <!-- <script type="module" src="https://unpkg.com/@splinetool/viewer@1.0.0/build/spline-viewer.js"></script> -->
            <!-- <spline-viewer url="YOUR_SPLINE_URL"></spline-viewer> -->

            <div class="placeholder-content">
              <div class="exploded-preview">
                <div class="component solar-panel">
                  <span class="component-label">20W Solar Panel</span>
                </div>
                <div class="component camera-module">
                  <span class="component-label">ESP32-CAM</span>
                </div>
                <div class="component lte-module">
                  <span class="component-label">4G LTE Modem</span>
                </div>
                <div class="component battery">
                  <span class="component-label">12V Battery</span>
                </div>
                <div class="component enclosure">
                  <span class="component-label">IP65 Enclosure</span>
                </div>
              </div>
              <p class="placeholder-note">Interactive 3D coming soon</p>
            </div>
          </div>
        </div>

        <!-- Component Highlights with Code Blocks -->
        <div class="lp-component-list">
          <!-- ESP32-CAM -->
          <div class="component-item">
            <span class="component-icon">üì∑</span>
            <div class="component-info">
              <h4>ESP32-CAM</h4>
              <p>Dual-core MCU with OV2640 camera running Edge Impulse FOMO</p>
              <div class="component-code">
                <div class="code-header">
                  <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                  <span class="code-filename">config.h</span>
                </div>
                <div class="code-content">
                  <pre><span class="comment">// Camera configuration</span>
<span class="keyword">#define</span> CAMERA_MODEL_AI_THINKER
<span class="keyword">#define</span> FRAME_SIZE   FRAMESIZE_QVGA
<span class="keyword">#define</span> JPEG_QUALITY <span class="number">12</span></pre>
                </div>
              </div>
              <div class="component-footer">
                <a href="/dashboard/knowledge.html#hardware" class="more-info-link">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                  More info
                </a>
              </div>
            </div>
          </div>

          <!-- SIM7000A LTE -->
          <div class="component-item">
            <span class="component-icon">üì°</span>
            <div class="component-info">
              <h4>SIM7000A 4G LTE</h4>
              <p>Cellular connectivity for remote deployment anywhere</p>
              <div class="component-code">
                <div class="code-header">
                  <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                  <span class="code-filename">lte_modem.cpp</span>
                </div>
                <div class="code-content">
                  <pre><span class="comment">// Initialize LTE modem</span>
modem.<span class="function">restart</span>();
modem.<span class="function">gprsConnect</span>(<span class="string">"telstra.m2m"</span>);
<span class="function">httpPost</span>(API_URL, payload);</pre>
                </div>
              </div>
              <div class="component-footer">
                <a href="/dashboard/knowledge.html#connectivity" class="more-info-link">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                  More info
                </a>
              </div>
            </div>
          </div>

          <!-- Solar Power -->
          <div class="component-item">
            <span class="component-icon">‚òÄÔ∏è</span>
            <div class="component-info">
              <h4>Solar Power System</h4>
              <p>20W panel + 12V battery for 24/7 off-grid operation</p>
              <div class="component-code">
                <div class="code-header">
                  <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                  <span class="code-filename">power_specs.txt</span>
                </div>
                <div class="code-content">
                  <pre><span class="comment"># Power budget</span>
Panel:    <span class="number">20W</span> @ <span class="number">18V</span> (mono)
Battery:  <span class="number">12V</span> <span class="number">7Ah</span> SLA
Runtime:  <span class="number">~48h</span> without sun</pre>
                </div>
              </div>
              <div class="component-footer">
                <a href="/dashboard/knowledge.html#power" class="more-info-link">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                  More info
                </a>
              </div>
            </div>
          </div>

          <!-- On-Device ML -->
          <div class="component-item">
            <span class="component-icon">üß†</span>
            <div class="component-info">
              <h4>On-Device ML</h4>
              <p>Vehicle detection at the edge ‚Äî no cloud dependency</p>
              <div class="component-code">
                <div class="code-header">
                  <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                  <span class="code-filename">vehicle_counter.cpp</span>
                </div>
                <div class="code-content">
                  <pre><span class="comment">// FOMO inference</span>
ei_impulse_result_t result;
<span class="function">run_classifier</span>(&signal, &result);
<span class="keyword">if</span> (result.bounding_boxes[<span class="number">0</span>].value > <span class="number">0.6</span>)
  vehicle_count++;</pre>
                </div>
              </div>
              <div class="component-footer">
                <a href="/dashboard/knowledge.html#ml" class="more-info-link">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                  More info
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Value Props Section -->
  <section class="lp-values" id="values">
    <div class="lp-container">
      <div class="lp-grid-3">
        <div class="lp-value-card">
          <div class="value-icon">üîì</div>
          <h3>Open Data</h3>
          <p>All traffic data freely available. No paywalls, no API keys, no restrictions.</p>
        </div>
        <div class="lp-value-card">
          <div class="value-icon">ü§ù</div>
          <h3>Complementary</h3>
          <p>Designed to augment ‚Äî not replace ‚Äî official traffic infrastructure.</p>
        </div>
        <div class="lp-value-card">
          <div class="value-icon">üå±</div>
          <h3>Sustainable</h3>
          <p>100% solar-powered. Zero ongoing energy costs. Deploy anywhere.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Live Demo Section -->
  <section class="lp-demo" id="demo">
    <div class="lp-container">
      <div class="lp-section-header">
        <h2>See It In Action</h2>
        <p>Real-time traffic flow from CBD to Fremantle</p>
      </div>

      <div class="lp-demo-frame">
        <div class="frame-header">
          <div class="frame-dots">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
          </div>
          <span class="frame-url">swanflow.com.au</span>
          <a href="/dashboard" target="_blank" rel="noopener" class="frame-external">Open in new tab ‚Üó</a>
        </div>
        <iframe
          src="/dashboard"
          title="SwanFlow Live Dashboard"
          loading="lazy"
          allow="fullscreen"
        ></iframe>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="lp-features" id="features">
    <div class="lp-container">
      <div class="lp-section-header">
        <h2>Key Features</h2>
        <p>What makes SwanFlow useful</p>
      </div>

      <div class="lp-grid-3">
        <div class="lp-feature-card">
          <div class="feature-icon">üì°</div>
          <h3>Real-time Monitoring</h3>
          <p>Live traffic data from arterial roads, updated every 60 seconds with vehicle counts and flow estimates.</p>
        </div>
        <div class="lp-feature-card">
          <div class="feature-icon">üß†</div>
          <h3>Edge AI Detection</h3>
          <p>Edge Impulse FOMO model running on ESP32-CAM for on-device ML inference with no cloud dependency.</p>
        </div>
        <div class="lp-feature-card">
          <div class="feature-icon">üó∫Ô∏è</div>
          <h3>Interactive Map</h3>
          <p>Leaflet map with colour-coded congestion levels from green (flowing) to red (heavy traffic).</p>
        </div>
        <div class="lp-feature-card">
          <div class="feature-icon">‚ÜîÔ∏è</div>
          <h3>Bidirectional Tracking</h3>
          <p>Monitor both inbound and outbound traffic with separate sensors sharing solar infrastructure.</p>
        </div>
        <div class="lp-feature-card">
          <div class="feature-icon">‚òÄÔ∏è</div>
          <h3>Off-Grid Operation</h3>
          <p>Completely self-sufficient with solar power ‚Äî deploy anywhere without mains electricity.</p>
        </div>
        <div class="lp-feature-card">
          <div class="feature-icon">üìñ</div>
          <h3>Knowledge Base</h3>
          <p>Comprehensive documentation covering hardware, ML training, deployment, and traffic theory.</p>
        </div>
      </div>

      <div class="features-cta">
        <a href="/dashboard/knowledge.html" class="lp-btn lp-btn-secondary">
          <span>Explore Knowledge Base</span>
          <span class="arrow">‚Üí</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Open Data Advocacy Section -->
  <section class="lp-advocacy" id="advocacy">
    <div class="lp-container">
      <div class="lp-advocacy-card">
        <div class="advocacy-content">
          <div class="advocacy-icon">üìä</div>
          <div class="advocacy-text">
            <h3>A Case for More Open Data</h3>
            <p>We believe combining official infrastructure with citizen contributions could create richer traffic datasets for researchers, urban planners, and commuters alike.</p>
            <p class="advocacy-note">SwanFlow is a proof-of-concept demonstrating what's possible with open data and affordable hardware.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Open Source Section -->
  <section class="lp-opensource" id="opensource">
    <div class="lp-container">
      <div class="lp-opensource-card">
        <div class="opensource-content">
          <div class="github-callout">
            <div class="github-icon">
              <svg viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
                <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
              </svg>
            </div>
            <div class="github-text">
              <h3>Fully Open Source</h3>
              <p>Firmware, backend, frontend, and documentation ‚Äî all MIT licensed. Build your own, contribute, or learn.</p>
              <a href="https://github.com/m4cd4r4/SwanFlow" target="_blank" rel="noopener" class="lp-btn lp-btn-github">
                <span>View on GitHub</span>
                <span class="arrow">‚Üí</span>
              </a>
            </div>
          </div>

          <div class="research-callout">
            <div class="research-icon">üìö</div>
            <div class="research-text">
              <h3>Knowledge Base</h3>
              <p>Deep-dive into the technical details: hardware assembly, ML model training, traffic flow theory, and deployment guides.</p>
              <a href="/dashboard/knowledge.html" target="_blank" rel="noopener" class="lp-btn lp-btn-secondary">
                Explore Documentation ‚Üí
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="lp-cta">
    <div class="lp-container">
      <div class="lp-cta-card">
        <h2>Explore Perth traffic patterns</h2>
        <p>Check live conditions or dive into the technical documentation</p>
        <div class="cta-buttons">
          <a href="/dashboard" class="lp-btn lp-btn-primary lp-btn-lg">
            View Live Dashboard
          </a>
          <a href="/dashboard/knowledge.html" class="lp-btn lp-btn-outline">
            Knowledge Base
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="lp-footer">
    <div class="lp-container">
      <p>Built with Edge AI by <a href="https://github.com/m4cd4r4" target="_blank" rel="noopener">Macdara</a> | Perth, Western Australia</p>
      <p class="footer-note">Open-source traffic monitoring for hobbyists and researchers. Gentle advocacy for more open data.</p>
    </div>
  </footer>

  <!-- Initialize Lucide Icons and Theme -->
  <script>
    // Initialize Lucide icons
    lucide.createIcons();

    // Theme toggle functionality
    const themeToggleBtn = document.getElementById('theme-toggle-btn');
    const html = document.documentElement;

    // Check for saved theme preference or default to 'light'
    const savedTheme = localStorage.getItem('theme') || 'light';
    html.setAttribute('data-theme', savedTheme);

    themeToggleBtn.addEventListener('click', () => {
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    });
  </script>
</body>
</html>
